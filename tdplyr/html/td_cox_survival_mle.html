<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: CoxSurvival</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for td_cox_survival_mle {tdplyr}"><tr><td>td_cox_survival_mle {tdplyr}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>
CoxSurvival
</h2>

<h3>Description</h3>

<p>The CoxSurvival function takes as input the coefficient and linear
prediction tbl_teradata generated by the function CoxPH (<code>td_coxph_mle</code>) 
and outputs a tbl_teradata of survival probabilities.
</p>


<h3>Usage</h3>

<pre>
  td_cox_survival_mle (
      object = NULL,
      cox.model.table = NULL,
      predict.table = NULL,
      predict.feature.names = NULL,
      predict.feature.columns = NULL,
      accumulate = NULL,
      cox.model.table.sequence.column = NULL,
      object.sequence.column = NULL,
      predict.table.sequence.column = NULL
  )
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>object</code></td>
<td>

<p>Required Argument.<br />
Specifies the coefficients tbl_teradata of the model generated by 
<code>td_coxph_mle</code>.<br />
This argument can accept either a tbl_teradata or an object of 
&quot;td_coxph_mle&quot; class.
</p>
</td></tr>
<tr valign="top"><td><code>cox.model.table</code></td>
<td>

<p>Required Argument.<br />
Specifies the name of the Cox linear predictor model tbl_teradata generated by
<code>td_coxph_mle</code> function.
</p>
</td></tr>
<tr valign="top"><td><code>predict.table</code></td>
<td>

<p>Required Argument.<br />
Specifies the name of the predict tbl_teradata, which contains new 
prediction feature values for survival calculation.
</p>
</td></tr>
<tr valign="top"><td><code>predict.feature.names</code></td>
<td>

<p>Required Argument.<br />
Specifies the names of features in the Cox model.<br />
Types: character OR vector of characters
</p>
</td></tr>
<tr valign="top"><td><code>predict.feature.columns</code></td>
<td>

<p>Required Argument.<br />
Specifies the names of the columns that contain the values for the 
features in the Cox model, one column name for each feature name. The 
ith feature name corresponds to the ith column name. For example, 
consider this pair of arguments: &quot;predict.feature.names&quot; (&quot;name&quot;, 
&quot;age&quot;), &quot;predict.feature.columns&quot; (&quot;c1&quot;, &quot;c2&quot;). The predictive values of 
the feature &quot;name&quot; are in column &quot;c1&quot;, and the predictive values of 
the feature &quot;age&quot; are in column &quot;c2&quot;.<br />
Types: character OR vector of Strings (character)
</p>
</td></tr>
<tr valign="top"><td><code>accumulate</code></td>
<td>

<p>Optional Argument.<br />
Specifies the names of the columns in &quot;predict.table&quot; argument that the function 
copies to the output tbl_teradata.<br />
Types: character OR vector of Strings (character)
</p>
</td></tr>
<tr valign="top"><td><code>cox.model.table.sequence.column</code></td>
<td>

<p>Optional Argument.<br />
Specifies the vector of column(s) that uniquely identifies each row 
of the input argument &quot;cox.model.table&quot;. The argument is used to 
ensure deterministic results for functions which produce results that 
vary from run to run.<br />
Types: character OR vector of Strings (character)
</p>
</td></tr>
<tr valign="top"><td><code>object.sequence.column</code></td>
<td>

<p>Optional Argument.<br />
Specifies the vector of column(s) that uniquely identifies each row 
of the input argument &quot;object&quot;. The argument is used to ensure 
deterministic results for functions which produce results that vary 
from run to run.<br />
Types: character OR vector of Strings (character)
</p>
</td></tr>
<tr valign="top"><td><code>predict.table.sequence.column</code></td>
<td>

<p>Optional Argument.<br />
Specifies the vector of column(s) that uniquely identifies each row 
of the input argument &quot;predict.table&quot;. The argument is used to ensure 
deterministic results for functions which produce results that vary 
from run to run.<br />
Types: character OR vector of Strings (character)
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Function returns an object of class &quot;td_cox_survival_mle&quot; which is a 
named list containing objects of class &quot;tbl_teradata&quot;.<br />
Named list members can be referenced directly with the &quot;$&quot; operator 
using following names:</p>
<ol>
<li><p> survival.probability</p>
</li>
<li> 
<p>output</p>
</li></ol>



<h3>Examples</h3>

<pre>
  
    # Get the current context/connection
    con &lt;- td_get_context()$connection
    
    # Load example data.
    loadExampleData("coxsurvival_example", "lungcancer","lc_new_predictors")

    # Create object(s) of class "tbl_teradata".
    lungcancer &lt;- tbl(con, "lungcancer")
    lc_new_predictors &lt;- tbl(con, "lc_new_predictors")

    td_coxph_out &lt;- td_coxph_mle(data = lungcancer,
                            feature.columns = c("trt","celltype","karno","diagtime","age","prior"),
                            time.interval.column = "time_int",
                            event.column = "status",
                            categorical.columns = c("trt","celltype","prior")
                            )

    # Linear model predictor tbl_teradata and coefficient tbl_teradata that are generated from
    # the td_coxph_mle() function are used to determine the survival probabilities of 
    # the new patients.
    # Example 1 - Pass generated coefficient tbl_teradata and linear predictor tbl_teradata.
    td_cox_survival_out &lt;- td_cox_survival_mle(object = td_coxph_out$coefficient.table,
                                            cox.model.table = td_coxph_out$linear.predictor.table,
                                            predict.table = lc_new_predictors,
                                            predict.feature.names = c("trt", "celltype", "karno",
                                                                      "diagtime", "age", "prior"),
                                            predict.feature.columns = c("trt", "celltype", "karno", 
                                                                        "diagtime", "age", "prior"),
                                            accumulate = c("id", "name")
                                            )

    # Example 2 - Pass output of td_coxph_mle() directly as object argument.
    td_cox_survival_out &lt;- td_cox_survival_mle(object = td_coxph_out,
                                            cox.model.table = td_coxph_out$linear.predictor.table,
                                            predict.table = lc_new_predictors ,
                                            predict.feature.names = c("trt", "celltype", "karno",
                                                                      "diagtime", "age", "prior"),
                                            predict.feature.columns = c("trt", "celltype", "karno",
                                                                        "diagtime", "age", "prior"),
                                            accumulate = c("id", "name")
                                            )
  
</pre>

<hr /><div style="text-align: center;">[Package <em>tdplyr</em> version 17.00.00.02 <a href="00Index.html">Index</a>]</div>
</body></html>
