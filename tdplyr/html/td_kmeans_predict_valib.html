<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: K-Means Clustering Predict.</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for td_kmeans_predict_valib {tdplyr}"><tr><td>td_kmeans_predict_valib {tdplyr}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>K-Means Clustering Predict.</h2>

<h3>Description</h3>

<p>The function performs cluster prediction on test data based on the cluster 
model generated by VALIB <code>td_kmeans_valib()</code> function and generates a 
tbl_teradata object containing progress report with two columns, a timestamp, 
and a progress message.<br />
</p>


<h3>Usage</h3>

<pre>
td_kmeans_predict_valib(model, data, ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>model</code></td>
<td>
<p>Required Argument.<br />
Specifies the input containing the kmeans model to use in scoring.
This must be the &quot;result&quot; tbl_teradata generated by 
<code>td_kmeans_valib()</code> or a tbl_teradata created on a table 
generated by 'KMEANS' function from Vantage Analytic Library.<br />
Types: tbl_teradata</p>
</td></tr>
<tr valign="top"><td><code>data</code></td>
<td>
<p>Required Argument.<br />
Specifies the input data for which cluster is to be predicted.<br />
Types: tbl_teradata</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>Specifies other arguments supported by the function as described
in the '<b>Other Arguments</b>' section.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Function returns an object of class &quot;td_kmeans_predict_valib&quot;
which is a named list containing object of class &quot;tbl_teradata&quot;.<br />
Named list member can be referenced directly with the &quot;$&quot; operator
using name: result.
</p>


<h3>Other Arguments</h3>



<h4>cluster.column</h4>

<p>Optional Argument.<br />
Specifies the name of the column representing 
cluster identifier.<br />
Default Value: &quot;clusterid&quot;<br />
Types: character
</p>



<h4>index.columns</h4>

<p>Optional Argument.<br />
Specifies the name(s) of the column(s) in the 
input tbl_teradata to use as the primary 
index of the scored output tbl_teradata.<br />
Types: character OR vector of Strings (character)
</p>



<h4>accumulate</h4>

<p>Optional Argument.<br />
Specifies the name(s) of the column(s) from the 
input tbl_teradata that can be passed along to the 
output tbl_teradata.<br />
Types: character OR vector of Strings (character)
</p>



<h4>fallback</h4>

<p>Optional Argument.<br />
Specifies an optional flag to indicate (TRUE), that the
scored output tbl_teradata has the fallback attribute 
(that is, have a mirrored copy).<br />
Default Value: FALSE<br />
Types: logical
</p>



<h4>operator.database</h4>

<p>Optional Argument.<br />
Specifies the database where the table operators
called by Vantage Analytic Library reside. If not
specified, the library searches the standard 
search path for table operators, including the 
current database.<br />
Types: character
</p>



<h3>Examples</h3>

<pre>

# Notes:
#   1. To execute Vantage Analytic Library functions, set option
#      'val.install.location' to the database name where Vantage analytic
#      library functions are installed.
#   2. Datasets used in these examples can be loaded using Vantage Analytic
#      Library installer.

# Set the option 'val.install.location'.
options(val.install.location = "SYSLIB")

# Get remote data source connection.
con &lt;- td_get_context()$connection

# Create an object of class "tbl_teradata".
cust &lt;- tbl(con, "customer_analysis")
print(cust)

# Example 1: Shows how kmeans clustering is performed.
# First generate the model using td_kmeans_valib() function.
kmeans_obj &lt;- td_kmeans_valib(data=cust,
                              columns=c("avg_cc_bal", "avg_ck_bal", "avg_sv_bal"),
                              centers=3)

# Use kmeans result tbl_teradata (from above step) to predict the clusters 
# for the data in tbl 'cust'.
obj &lt;- td_kmeans_predict_valib(data=cust,
                               model=kmeans_obj$result,
                               cluster.column="clusterid",
                               index.columns="cust_id",
                               fallback=FALSE,
                               accumulate=c("cust_id", "age", "city_name", "state_code", "gender"))
# Print the results.
print(obj$result)

# Score using S3 predict function and the model generated above.
obj &lt;- predict(object=kmeans_obj,
               data=cust)

# Print the results.
print(obj$result)

</pre>

<hr /><div style="text-align: center;">[Package <em>tdplyr</em> version 17.00.00.02 <a href="00Index.html">Index</a>]</div>
</body></html>
