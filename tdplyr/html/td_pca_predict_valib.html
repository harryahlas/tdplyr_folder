<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Factor Analysis Scoring</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for td_pca_predict_valib {tdplyr}"><tr><td>td_pca_predict_valib {tdplyr}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Factor Analysis Scoring</h2>

<h3>Description</h3>

<p>The function generates PCA scores using the model created by <code>td_pca_valib()</code>. The 
scoring process expresses each component as a linear combination of the input columns. 
The result output tbl_teradata contains one or more index (key) columns and PCA score 
columns, one for each component.<br />
<br />
When PCA analysis was based on a correlation matrix, scoring input data is normalized 
by subtracting the mean and dividing by the standard deviation. If multiple factor models 
were built by means of one or more group by columns, the resulting score tbl_teradata 
includes these columns and score the grouped input columns accordingly.
</p>


<h3>Usage</h3>

<pre>
td_pca_predict_valib(model, data, ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>model</code></td>
<td>
<p>Required Argument.<br /> 
Specifies the input containing the PCA model to use in scoring. This 
must be the &quot;result&quot; tbl_teradata generated by <code>td_pca_valib()</code> 
or a tbl_teradata created on a table generated by 'factor' function 
from Vantage Analytic Library.<br />
Types: tbl_teradata</p>
</td></tr>
<tr valign="top"><td><code>data</code></td>
<td>
<p>Required Argument.<br /> 
Specifies the input data containing the columns to get PCA scores.<br />
Types: tbl_teradata</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>Specifies other arguments supported by the function as described in the
'<b>Other Arguments</b>' section.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Function returns an object of class &quot;td_pca_predict_valib&quot; 
which is a named list containing object of class &quot;tbl_teradata&quot;.cr
Named list member can be referenced directly with the &quot;$&quot; operator 
using name: result.
</p>


<h3>Other Arguments</h3>



<h4>index.columns</h4>

<p>Optional Argument.<br /> 
Specifies one or more different columns for the primary index of 
the result output tbl_teradata. By default, the primary index 
columns of the result output tbl_teradata are the primary index 
columns of the input tbl_teradata &quot;data&quot;. In addition, the columns 
specified in this argument need to form a unique key for the result 
output tbl_teradata. Otherwise, there are more than one score for 
a given observation.<br />
Types: character OR vector of Strings (character) 
</p>



<h4>accumulate</h4>

<p>Optional Argument.<br /> 
Specifies one or more columns from the &quot;data&quot; tbl_teradata that can 
be passed to the result output tbl_teradata.<br />
Types: character OR vector of Strings (character)
</p>



<h3>Examples</h3>

<pre>

# Notes:
#   1. To execute Vantage Analytic Library functions, set option 'val.install.location' to
#      the database name where Vantage analytic library functions are installed.
#   2. Datasets used in these examples can be loaded using Vantage Analytic Library installer.

# Set the option 'val.install.location'.
options(val.install.location = "SYSLIB")

# Get remote data source connection.
con &lt;- td_get_context()$connection

# Create an object of class "tbl_teradata".
df &lt;- tbl(con, "customer")
print(df)

# Run PCA() on columns "age", "income", "years_with_bank" and "nbr_children".
pca_obj &lt;- td_pca_valib(data=df,
                        columns=c("age", "years_with_bank", "nbr_children", "income"))
                        
# Get PCA scores using the model generated above.
obj &lt;- td_pca_predict_valib(data=df,
                            model=pca_obj$result,
                            index.columns="cust_id",
                            accumulate=c("age", "years_with_bank", "nbr_children"))

# Print the results.
print(obj$result)

# Score using S3 predict function and the model generated above.
obj &lt;- predict(pca_obj, 
               data=df,
               index.columns="cust_id",
               accumulate=c("age", "years_with_bank", "nbr_children"))

# Print the results.
print(obj$result)

</pre>

<hr /><div style="text-align: center;">[Package <em>tdplyr</em> version 17.00.00.02 <a href="00Index.html">Index</a>]</div>
</body></html>
