<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Scale</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for td_scale_mle {tdplyr}"><tr><td>td_scale_mle {tdplyr}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>
Scale
</h2>

<h3>Description</h3>

<p>The Scale function uses statistical information from the ScaleMap
(<code>td_scale_map_mle</code>) function to scale the input data set.
</p>


<h3>Usage</h3>

<pre>
  td_scale_mle (
    object = NULL,
    data = NULL,
    method = NULL,
    global = FALSE,
    accumulate = NULL,
    multiplier = 1,
    intercept = "0",
    input.columns = NULL,
    object.sequence.column = NULL,
    data.sequence.column = NULL,
    object.order.column = NULL,
    data.order.column = NULL
  )
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>object</code></td>
<td>

<p>Required Argument.<br />
Specifies the statistical input generated by <code>td_scale_map_mle</code>
function.
</p>
</td></tr>
<tr valign="top"><td><code>object.order.column</code></td>
<td>

<p>Optional Argument.<br />
Specifies Order By columns for &quot;object&quot;.<br />
Values to this argument can be provided as a vector, if multiple 
columns are used for ordering.<br />
Types: character OR vector of Strings (character)
</p>
</td></tr>
<tr valign="top"><td><code>data</code></td>
<td>

<p>Required Argument.<br />
Specifies the input tbl_teradata for scaling.
</p>
</td></tr>
<tr valign="top"><td><code>data.order.column</code></td>
<td>

<p>Optional Argument.<br />
Specifies Order By columns for &quot;data&quot;.<br />
Values to this argument can be provided as a vector, if multiple 
columns are used for ordering.<br />
Types: character OR vector of Strings (character)
</p>
</td></tr>
<tr valign="top"><td><code>method</code></td>
<td>

<p>Required Argument.<br />
Specify one or more statistical methods used to scale the dataset.
If you specify multiple methods, the output tbl_teradata includes the column
scalemethod (which contains the method name) and a row for each
input-row/method combination.<br />
Permitted Values: MEAN, SUM, USTD, STD, RANGE, MIDRANGE, MAXABS<br />
Types: character OR vector of characters
</p>
</td></tr>
<tr valign="top"><td><code>global</code></td>
<td>

<p>Optional Argument.<br />
Specifies whether all input columns are scaled to the same location 
and scale.<br />
Note: Each input column is scaled separately.<br />
Default Value: FALSE<br />
Types: logical
</p>
</td></tr>
<tr valign="top"><td><code>accumulate</code></td>
<td>

<p>Optional Argument.<br />
Specifies the input tbl_teradata columns to copy to the output tbl_teradata. 
By default, the function copies no input tbl_teradata columns to the 
output tbl_teradata.<br />
Types: character OR vector of Strings (character)
</p>
</td></tr>
<tr valign="top"><td><code>multiplier</code></td>
<td>

<p>Optional Argument.<br />
Specifies one or more multiplying factors to apply to the input 
variables-multiplier in the following formula: <br />
X' = intercept + multiplier * (X - location)/scale <br />
If you specify only one multiplier, it applies to all columns
specified in the &quot;input.columns&quot; argument. If you specify multiple
multiplying factors, each multiplier applies to the corresponding
input column. For example, the first multiplier applies to the
first column specified in the &quot;input.columns&quot; argument, the second
multiplier applies to the second input column, and so on. <br />
Default Value: 1<br />
Types: numeric OR vector of numerics
</p>
</td></tr>
<tr valign="top"><td><code>intercept</code></td>
<td>

<p>Optional Argument.<br />
Specifies one or more addition factors incrementing the scaled 
results-intercept in the following formula: <br />
X' = intercept + multiplier * (X - location)/scale <br />
If you specify only one intercept, it applies to all columns
specified in the &quot;input.columns&quot; argument. If you specify multiple
addition factors, each intercept applies to the corresponding input
column.<br />
The syntax of intercept is: [-]{number | min | mean | max }<br />
where min, mean, and max are the global minimum,
mean and maximum values in the corresponding columns.<br />
The function scales the values of min, mean, and max. This is the
formula for computing the scaled global minimum:
scaledmin = (minX - location)/scale <br />
The formulas for computing the scaled global mean and maximum are
analogous to the preceding formula.<br /> 
For example, if intercept is &quot;- min&quot; and multiplier is 1, the scaled 
result is transformed to a nonnegative sequence according to this formula, 
where scaledmin is the scaled value: <br />
X' = -scaledmin + 1 * (X - location)/scale. <br />
Default Value: &quot;0&quot;<br />
Types: character OR vector of characters
</p>
</td></tr>
<tr valign="top"><td><code>input.columns</code></td>
<td>

<p>Optional Argument.<br />
Specifies the input tbl_teradata columns that contain the attribute 
values of the samples. The attribute values must be numeric values 
between -1e308 and 1e308. If a value is outside this range, the 
function treats it as infinity. The default input columns are all 
columns of the statistic tbl_teradata (the output of the <code>td_scale_map_mle</code>
function) except stattype.<br />
Types: character OR vector of Strings (character)
</p>
</td></tr>
<tr valign="top"><td><code>object.sequence.column</code></td>
<td>

<p>Optional Argument.<br />
Specifies the vector of column(s) that uniquely identifies each row 
of the input argument &quot;object&quot;. The argument is used to ensure 
deterministic results for functions which produce results that vary 
from run to run.<br />
Types: character OR vector of Strings (character)
</p>
</td></tr>
<tr valign="top"><td><code>data.sequence.column</code></td>
<td>

<p>Optional Argument.<br />
Specifies the vector of column(s) that uniquely identifies each row 
of the input argument &quot;data&quot;. The argument is used to ensure 
deterministic results for functions which produce results that vary 
from run to run.<br />
Types: character OR vector of Strings (character)
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Function returns an object of class &quot;td_scale_mle&quot; which is a named 
list containing object of class &quot;tbl_teradata&quot;.<br />
Named list member can be referenced directly with the &quot;$&quot; operator 
using name: result.
</p>


<h3>Examples</h3>

<pre>
  
    # Get the current context/connection
    con &lt;- td_get_context()$connection
    
    # Load example data.
    loadExampleData("scalemap_example", "scale_housing")
    loadExampleData("scale_example", "scale_stat", "scale_housing_test")

    # Create object(s) of class "tbl_teradata".
    scale_housing &lt;- tbl(con, "scale_housing")
    scale_housing_test &lt;- tbl(con, "scale_housing_test")
    scale_stat &lt;- tbl(con, "scale_stat")

    # Example 1 - This example scales (normalizes) input data using the
    # midrange method and the default values for the arguments "intercept"
    # and "multiplier" (0 and 1 respectively).
    td_scale_map_out &lt;- td_scale_map_mle(data=scale_housing,
                                         input.columns=c('price','lotsize','bedrooms',
                                                         'bathrms','stories')
                                        )
    td_scale_out1 &lt;- td_scale_mle(object=td_scale_map_out,
                                  data=scale_housing,
                                  method=c("midrange"),
                                  accumulate=c("id")
                                  )

    # Example 2 - This example uses a tbl_teradata as input for object argument and
    # the "intercept" argument has the value "-min" (where min is the global minimum value)
    # and we also specify different multiplier values for corresponding columns.
    td_scale_out2 &lt;- td_scale_mle(object = scale_stat,
                                  data = scale_housing,
                                  method = c("midrange"),
                                  accumulate = c("id"),
                                  multiplier = c(1,2,3,4,5),
                                  intercept = c("-min")
                                  )

    # Example 3 - This example scales input data using multiple 
    # methods-midrange, mean, maxabs, and range.
    td_scale_out3 &lt;- td_scale_mle(object = scale_stat,
                                  data = scale_housing_test,
                                  method = c("midrange","mean","maxabs","range"),
                                  accumulate = c("id")
                                  )

    # Example 4 - This example uses the Scale function to scale data (using
    # the maxabs method) before inputting it to the function td_kmeans_mle(), 
    # which outputs the centroids of the clusters in the dataset.
    loadExampleData("kmeans_example", "computers_train1")
    computers_train1 &lt;- tbl(con, "computers_train1")

    td_scale_map_out4 &lt;- td_scale_map_mle(data=computers_train1,
                                          input.columns=c('price','speed','hd','ram'),
                                          miss.value='OMIT'
                                          )
                                          
    # Create tbl_teradata of Scaled Data using Scale function.
    td_scale_out4 &lt;- td_scale_mle(object=td_scale_map_out4,
                                  data=computers_train1,
                                  method=c("maxabs"),
                                  accumulate=c("id")
                                  )
                                  
    # Use the scaled data as input to KMeans to get clusters.
    td_kmeans_out &lt;- td_kmeans_mle(data = td_scale_out4$result,
                                   centers = 8,
                                   iter.max = 10,
                                   threshold = 0.05
                                   )
  
</pre>

<hr /><div style="text-align: center;">[Package <em>tdplyr</em> version 17.00.00.02 <a href="00Index.html">Index</a>]</div>
</body></html>
