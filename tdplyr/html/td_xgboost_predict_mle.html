<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: XGBoostPredict</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for td_xgboost_predict_mle {tdplyr}"><tr><td>td_xgboost_predict_mle {tdplyr}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>
XGBoostPredict
</h2>

<h3>Description</h3>

<p>The XGBoostPredict function applies the model output by the
XGBoost (<code>td_xgboost_mle</code>) function to a new data set, outputting
predicted labels for each data point.
</p>


<h3>Usage</h3>

<pre>
  td_xgboost_predict_mle (
      object = NULL,
      object.order.column = NULL,
      newdata = NULL,
      newdata.partition.column = "ANY",
      newdata.order.column = NULL,
      id.column = NULL,
      terms = NULL,
      iter.num = NULL,
      num.boosted.trees = NULL,
      attribute.name.column = NULL,
      attribute.value.column = NULL,
      output.response.probdist = FALSE,
      output.responses = NULL,
      newdata.sequence.column = NULL,
      object.sequence.column = NULL
  )

  ## S3 method for class 'td_xgboost_mle'
predict(
      object = NULL,
      object.order.column = NULL,
      newdata = NULL,
      newdata.partition.column = "ANY",
      newdata.order.column = NULL,
      id.column = NULL,
      terms = NULL,
      iter.num = NULL,
      num.boosted.trees = NULL,
      attribute.name.column = NULL,
      attribute.value.column = NULL,
      output.response.probdist = FALSE,
      output.responses = NULL,
      newdata.sequence.column = NULL,
      object.sequence.column = NULL
  )

</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>object</code></td>
<td>

<p>Required Argument.<br />
Specifies the model tbl_teradata generated by <code>td_xgboost_mle</code>.<br />
This argument can accept either a tbl_teradata or an object of
&quot;td_xgboost_mle&quot; class.
</p>
</td></tr>
<tr valign="top"><td><code>object.order.column</code></td>
<td>

<p>Required Argument.<br />
Specifies Order By columns for &quot;object&quot;.<br />
Values to this argument can be provided as a vector, if multiple
columns are used for ordering.<br />
Types: character OR vector of Strings (character)
</p>
</td></tr>
<tr valign="top"><td><code>newdata</code></td>
<td>

<p>Required Argument.<br />
Specifies the tbl_teradata containing the input test data.
</p>
</td></tr>
<tr valign="top"><td><code>newdata.partition.column</code></td>
<td>

<p>Optional Argument.<br />
Specifies Partition By columns for &quot;newdata&quot;.<br />
Values to this argument can be provided as a vector, if multiple
columns are used for partition.<br />
Default Value: ANY<br />
Types: character OR vector of Strings (character)
</p>
</td></tr>
<tr valign="top"><td><code>newdata.order.column</code></td>
<td>

<p>Optional Argument.<br />
Specifies Order By columns for &quot;newdata&quot;.<br />
Values to this argument can be provided as a vector, if multiple
columns are used for ordering.<br />
Types: character OR vector of Strings (character)
</p>
</td></tr>
<tr valign="top"><td><code>id.column</code></td>
<td>

<p>Optional Argument.<br />
Specifies a column containing a unique identifier for each test point
in the test set given in the &quot;newdata&quot; argument.<br />
Types: character
</p>
</td></tr>
<tr valign="top"><td><code>terms</code></td>
<td>

<p>Optional Argument.<br />
Specifies the names of the input columns to copy to the output tbl_teradata.<br />
Types: character OR vector of Strings (character)
</p>
</td></tr>
<tr valign="top"><td><code>iter.num</code></td>
<td>

<p>Optional Argument.<br />
Specifies the number of iterations for each boosted tree to use for
prediction. The lower bound is 1. If this argument is not specified,
the value is the same as used for training the model. The number
of iterations used is upperbounded by the number of iterations
used during training.<br />
Types: integer
</p>
</td></tr>
<tr valign="top"><td><code>num.boosted.trees</code></td>
<td>

<p>Optional Argument.<br />
Specifies the number of boosted trees to be used for prediction. If
this argument is not specified, the value is the same as used for
training the model. The number of boosted trees used for prediciton is
upper bounded by the number of boosted trees used during training.<br />
Types: integer
</p>
</td></tr>
<tr valign="top"><td><code>attribute.name.column</code></td>
<td>

<p>Optional Argument.<br />
Required for sparse data format.<br />
If the data set is in sparse format, this argument indicates the column
containing the attributes in the input tbl_teradata.<br />
Types: character
</p>
</td></tr>
<tr valign="top"><td><code>attribute.value.column</code></td>
<td>

<p>Optional Argument.<br />
If the data is in the sparse format, this argument indicates the
column containing the attribute values in the input tbl_teradata.<br />
Types: character
</p>
</td></tr>
<tr valign="top"><td><code>output.response.probdist</code></td>
<td>

<p>Optional Argument.<br />
Specifies whether to output probabilities.<br />
Note: &quot;output.response.probdist&quot; argument support is only available when tdplyr is connected to
Vantage 1.1.1 or later versions.<br />
Default Value: FALSE<br />
Types: logical
</p>
</td></tr>
<tr valign="top"><td><code>output.responses</code></td>
<td>

<p>Optional Argument.<br />
Specifies responses in input tbl_teradata.<br />
Note:
</p>

<ol>
<li><p> The argument &quot;output.response.probdist&quot; must be set to TRUE to use this argument.
</p>
</li>
<li><p> &quot;output.responses&quot; argument support is only available when tdplyr is connected to
Vantage 1.1.1 or later versions.
</p>
</li></ol>

<p>Default Value: NULL<br />
Types: character OR vector of characters
</p>
</td></tr>
<tr valign="top"><td><code>newdata.sequence.column</code></td>
<td>

<p>Optional Argument.<br />
Specifies the vector of column(s) that uniquely identifies each row
of the input argument &quot;newdata&quot;. The argument is used to ensure
deterministic results for functions which produce results that vary
from run to run.<br />
Types: character OR vector of Strings (character)
</p>
</td></tr>
<tr valign="top"><td><code>object.sequence.column</code></td>
<td>

<p>Optional Argument.<br />
Specifies the vector of column(s) that uniquely identifies each row
of the input argument &quot;object&quot;. The argument is used to ensure
deterministic results for functions which produce results that vary
from run to run.<br />
Types: character OR vector of Strings (character)
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Function returns an object of class &quot;td_xgboost_predict_mle&quot; which is
a named list containing object of class &quot;tbl_teradata&quot;.<br />
Named list member can be referenced directly with the &quot;$&quot; operator
using name: result.
</p>


<h3>Examples</h3>

<pre>
  
    # Get the current context/connection
    con &lt;- td_get_context()$connection

    # Load example data.
    loadExampleData("xgboost_example", "housing_train_binary", "iris_train", "sparse_iris_train",
                    "sparse_iris_attribute")
    loadExampleData("xgboostpredict_example", "housing_test_binary", "iris_test",
                    "sparse_iris_test")

    # Example 1: Binary Classification
    # Create object(s) of class "tbl_teradata".
    housing_train_binary &lt;- tbl(con, "housing_train_binary")
    housing_test_binary &lt;- tbl(con,"housing_test_binary")

    # Create model
    td_xgboost_out1 &lt;- td_xgboost_mle(data=housing_train_binary,
              id.column='sn',
              formula = (homestyle ~ driveway + recroom + fullbase + gashw + airco + prefarea +
                         price + lotsize + bedrooms + bathrms + stories + garagepl),
              num.boosted.trees=2,
              loss.function='binomial',
              prediction.type='classification',
              reg.lambda=1,
              shrinkage.factor=0.1,
              iter.num=10,
              min.node.size=1,
              max.depth=10
              )

    # Use the generated model to find prediction.
    td_xgboost_predict_out1 &lt;- td_xgboost_predict_mle(newdata=housing_test_binary,
                                  object=td_xgboost_out1,
                                  object.order.column= c('tree_id','iter','class_num'),
                                  id.column='sn',
                                  terms='homestyle',
                                  num.boosted.trees=1)

    # Alternatively use S3 predict method to find the prediction.
    predict_out &lt;- predict(td_xgboost_out1,
                        newdata=housing_test_binary,
                        object.order.column= c('tree_id','iter','class_num'),
                        id.column='sn',
                        terms='homestyle',
                        num.boosted.trees=1)

    # Example 2: Multiple-Class Classification
    iris_train &lt;- tbl(con,"iris_train")
    iris_test &lt;- tbl(con,"iris_test")

    td_xgboost_out2 &lt;- td_xgboost_mle(data=iris_train,
                                  id.column='id',
                                  formula = (species ~ sepal_length + sepal_length +
                                                       petal_length + petal_width + species),
                                  num.boosted.trees=2,
                                  loss.function='softmax',
                                  reg.lambda=1,
                                  shrinkage.factor=0.1,
                                  iter.num=10,
                                  min.node.size=1,
                                  max.depth=10)

    # Use the generated model to find prediction.
    td_xgboost_predict_out2 &lt;- td_xgboost_predict_mle(newdata=iris_test,
                                  object=td_xgboost_out2,
                                  object.order.column=c('tree_id', 'iter', 'class_num'),
                                  id.column='id',
                                  terms='species',
                                  num.boosted.trees=2)

     # Example 3: Sparse Input Format. "response.column" argument is specified instead of "formula".
     # Create object(s) of class "tbl_teradata".
     sparse_iris_train &lt;- tbl(con,"sparse_iris_train")
     sparse_iris_attribute &lt;- tbl(con,"sparse_iris_attribute")
     sparse_iris_test &lt;- tbl(con,"sparse_iris_test")

     td_xgboost_out3 &lt;- td_xgboost_mle(data=sparse_iris_train,
                attribute.table=sparse_iris_attribute,
                id.column='id',
                attribute.name.column='attribute',
                attribute.value.column='value_col',
                response.column="species",
                loss.function='SOFTMAX',
                reg.lambda=1,
                num.boosted.trees=2,
                shrinkage.factor=0.1,
                column.subsampling=1.0,
                iter.num=10,
                min.node.size=1,
                max.depth=10,
                variance=0,
                seed=1
                )

      # Use the generated model to find prediction.
      td_xgboost_predict_out3 &lt;- td_xgboost_predict_mle(newdata=sparse_iris_test,
                                  object=td_xgboost_out3,
                                  object.order.column=c('tree_id', 'iter', 'class_num'),
                                  id.column='id',
                                  attribute.name.column='attribute',
                                  attribute.value.column='value_col',
                                  terms='species',
                                  num.boosted.trees=2)


  
</pre>

<hr /><div style="text-align: center;">[Package <em>tdplyr</em> version 17.00.00.02 <a href="00Index.html">Index</a>]</div>
</body></html>
